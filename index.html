<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1250" />
	<meta name="Author" content="Ondra Zizka; ondra at dynawest.cz" />
	<meta name="Keywords" content="Minervga, dos game, Miner, Miner VGA, Harrel W. Stilles, Dynawest, Ondra Zizka" />
	<meta name="Description" content="Miner VGA - classical DOS game by Harrel W. Stilles remade to JavaScript (MSIE4.0+) by Ondra Zizka @ dynawest.cz" />
	<!-- <link rel="stylesheet" type="text/css" href="dw_styles.css" /> -->
	<link rel="stylesheet" type="text/css" href="miner.css" />
	<link rel="stylesheet" type="text/css" href="mineraly.css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link rel="prefetch" href="budova.info.html" />
	<link rel="prefetch" href="budova.obchod.html" />
	<link rel="prefetch" href="budova.banka.html" />
	<link rel="prefetch" href="budova.nemocnice.html" />
<title> MinerVGA - JavaScript version </title>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="fce.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.system.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.elements.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.konstanty.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.predmety.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.panacek.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.bunky.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.game.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="inc.saveload.js"></script>
<!-- Jazykove mutace -->
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="lang._.js"></script>
<script charset="windows-1250" type="text/javascript" language="JavaScript" src="lang.cz.js"></script>
</head><body lang="cs-CZ">
<script type="text/javascript" language="JavaScript">
cGame.LoadLocalizedStrings("cz");
NatahniObrazky();
FreezeDocument(window); // zamezi vyberu, pravymu tlacitku, presunovani  a nastavi kurzor na sipku //
</script>

<div id="splashscreen">
	<div class="title">Miner VGA</div>
	<div class="subtitle">JavaScript version</div>
	<div class="notes">
		<a href="minervga.zip">original DOS program by Harrel W. Stilles</a><br/>
		remade by <a href="mailto:ondra@dynawest.cz" title="Mail na ondra@dynawest.cz">Ondra Zizka</a>
		 @ <a href="http://www.dynawest.cz/" target="dynawest">dynawest.cz</a>
	</div>
	<div class="patience">Please be patient while loading, it may take even few minutes.</div>
</div>

<div id="logo">
	<div class="firstline"><span class="title">Miner VGA</span> JavaScript version<br/></div>
	<div class="">by <a href="mailto:ondra (at) dynawest.cz" title="Mail">Ondra Zizka</a>
	 @ <a href="http://www.dynawest.cz/" target="dynawest">dynawest.cz</a></div>
</div>

<div id="playground">
<!-- Mrak 1 - velky -->
<div id="mrak1">
	<table border="0" cellpadding="0" cellspacing="0" id="gametable"><tbody><tr>
		<td><img src="img/_mrak1.gif" width="16" height="24" border="0" alt="" /></td>
		<td><img src="img/_mrak2.gif" width="16" height="24" border="0" alt="" /></td>
		<td><img src="img/_mrak3.gif" width="16" height="24" border="0" alt="" /></td>			
	</tr></tbody></table>	
</div>
<div id="mrak2">
	<table border="0" cellpadding="0" cellspacing="0" id="gametable"><tbody><tr>
		<td><img src="img/_mrak1.gif" width="16" height="24" border="0" alt="" /></td>
		<td><img src="img/_mrak3.gif" width="16" height="24" border="0" alt="" /></td>			
	</tr></tbody></table>	
</div>
<div id="ptak1">
	<table border="0" cellpadding="0" cellspacing="0" id="gametable"><tbody><tr>
		<td><img src="img/_ptak.gif" width="16" height="24" border="0" alt="" /></td>
	</tr></tbody></table>	
</div>
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<div id="miner"><img id="minerimg" src="img/minerr.gif" width="16" height="24" border="0" alt="" /></div>
<div id="vytah"><img id="vytahimg" src="img/vytah.gif" width="16" height="36" border="0" alt="" /></div>
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

<table border="0" cellpadding="0" cellspacing="0" id="gametable">
	<tbody id="world">  </tbody>
	<tbody id="underground">  </tbody>
</table>
</div>


<!-- info info info info info info info info info info info info info info -->
<!-- info info info info info info info info info info info info info info -->
<div id="infotable">
<fieldset> <legend>Osobní</legend>
	<table border="0" cellpadding="0" cellspacing="0" class="info" width="100%"><tbody>
	<tr class="penize"><td>Stav úètu</td>  <td width="5"></td> <td align="right"><span id="penize"></span></td></tr>
	<tr class="zdravi"><td>Zdraví</td>  <td width="5"></td> <td align="right"><span id="zdravi"></span></td></tr>
	</tbody></table>
</fieldset>
<fieldset> <legend>Tìžba</legend>
	<table border="0" cellpadding="0" cellspacing="0" class="info" width="100%"><tbody>
	<tr class="pt"><td>Platina</td> <td align="right"><span id="infopt"></span></td></tr>
	<tr class="au"><td>Zlato</td>   <td align="right"><span id="infoau"></span></td></tr>
	<tr class="ag"><td>Støíbro</td> <td align="right"><span id="infoag"></span></td></tr>
	<tr class="cu"><td>Mìï</td>     <td align="right"><span id="infocu"></span></td></tr>
	<tr class="co"><td>Uhlí</td>    <td align="right"><span id="infoco"></span></td></tr>
	</tbody></table>
</fieldset>
<fieldset> <legend>Inventáø</legend>
	<table id="invtable" border="0" cellpadding="0" cellspacing="0" class="info"><tbody>
	<tr class="inv"><td>
	<script type="text/javascript">
	//<tr class="inv"><td><span id="inv_..."></span></td></tr>
	for(var i = 0; i < cPredmet.aItems.length; i++)
		document.write('<span id="inv_'+cPredmet.aItems[i].sKey+'" class="hidden"><img src="img/inv_'+cPredmet.aItems[i].sKey+'.gif" alt="" border="0" width="16" height="24"/></span> ');
	</script>
	</td></tr>
	</tbody></table>
</fieldset>
<fieldset> <legend>Zprávy</legend>
	<table border="0" cellpadding="0" cellspacing="0" class="info" width="100%"><tbody>
	<tr class="inv"><td><div id="msg"></div></td></tr>
	</tbody></table>
</fieldset>
</div>
</body>

<script type="text/javascript" language="JavaScript">
var w, u, t; //panacek, vytah, 

if(!isMSIE()){
	document.all = new cElementsById(document, "#all#");
	document.readyState = "loaded";
}

var game;

function OnLoad(){
	if(!isMSIE()){ document.readyState = "loaded"; }
	
	// cGame game(); //
	window.game = new cGame(document);
	t = game.table.tBodies;
	for(i in t) if(t[i].id == "world")       w = t[i];
	for(i in t) if(t[i].id == "underground") u = t[i];
	game.world.Init (w, CELLS_HORIZ, WORLD_HEI);
	game.ground.Init(u, CELLS_HORIZ, CELLS_VERT);
	game.panacek.Draw();
	game.vytah.Draw();
	
	// Vytvori tabulku //
	game.VytvorTabulku();	
	
	// Zaverecne upravy - zobrazi tabulku, vytah,
	document.all.splashscreen.style.display = "none";
	OnResized();
	
	// odkryti //
	document.all.infotable.style.visibility = "visible";
	document.all.playground.style.visibility = "visible";
	document.all.logo.style.zIndex = 15;
	
	//DumpObjectEx(document.all.gametable.tBodies[1].rows[0].cells);
	
	game.panacek.Focus();
	game.panacek.SynchronizeInfo();
	
	// Otevre okno s helpem //
	///game.panacek.Enter(d_info);
	
	PosliZpravu("Vítejte v Minerovi! :)","white");
	PosliZpravu("Tohle je okleštìná verze, poèet bunìk 40x x 30y, aby vám to na tìch vašich šunkách rychle nabìhlo :)");
	PosliZpravu("Co je nového?","zdravi");
	PosliZpravu("Celá hra je vevnitø úplnì pøepsaná, což ale navenek moc nepoznáte.");
	PosliZpravu("Mùžete nyní používat dynamit. Viz info.","white");
	//PosliZpravu("Seeeeejvyyyyyyyy!!! :)","white");
	//PosliZpravu("Dalo to fušku, ale jsou tu - a fungujou. Aspoò mnì. Staèí maèknout Shift+S pro uložení a Shift+L pro nahrání. Wow! :)");
	PosliZpravu("Indžoj! :)","zdravi");
	PosliZpravu("Pro nápovìdu stisknìte F1.");
	
	
	// Zaverecny navazani ovladacu udalosti //
	var windowEventsTarget = (bMSIE ? document.body : window);
	windowEventsTarget.onresize = OnResized;
	windowEventsTarget.onhelp = function(){ game.panacek.Enter(d_info); return false; };
	windowEventsTarget.onkeypress = OnKeyPressed;

	if(!bMSIE){ document.readyState = "complete"; }
	window.defaultStatus = window.status = GAME_NAME +" "+ GAME_VERSION;
	
	//if(!_DEBUG)
		setTimeout("OnAnimateMrak()",500);
	setTimeout("OnCheckInventory()", CAS_INVENTORY_CHECK_DELAY_MS);
	
} // OnLoad() - KONEC //

function PosliZpravu(str, clss){ PosliZpravuDoOkna(window, str, clss); }
function PosliZpravuArg(str, arg, clss){ PosliZpravuDoOkna(window, UCFirst(str.replace("%1", arg)), clss); }

window.onload = OnLoad;
</script>
</html>